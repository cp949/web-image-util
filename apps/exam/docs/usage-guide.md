# 사용법 가이드

`@cp949/web-image-util` 예제 앱 사용법을 안내합니다.

## 📖 목차

1. [기본 이미지 처리](#기본-이미지-처리)
2. [프리셋 함수 활용](#프리셋-함수-활용)
3. [고급 기능](#고급-기능)
4. [v2.0 신기능](#v20-신기능)
5. [샘플 이미지 선택기](#샘플-이미지-선택기)

---

## 기본 이미지 처리

### 1. 이미지 업로드

두 가지 방법으로 이미지를 업로드할 수 있습니다:

#### 방법 1: 드래그앤드롭
- 이미지 파일을 점선 영역으로 드래그
- 파일을 드롭하여 업로드

#### 방법 2: 파일 선택
- "이미지 선택" 버튼 클릭
- 파일 탐색기에서 이미지 선택

#### 방법 3: 샘플 이미지 사용
- "샘플 이미지 사용" 버튼 클릭
- 그리드에서 원하는 이미지 선택
- 포맷별 필터링 가능 (ALL/JPG/PNG/SVG)

**지원 포맷**: JPEG, PNG, WebP, SVG, GIF, BMP

---

### 2. 처리 옵션 설정

#### 크기 설정
- **너비 (Width)**: 체크박스로 활성화 후 픽셀 값 입력
- **높이 (Height)**: 체크박스로 활성화 후 픽셀 값 입력
- **둘 다 설정**: Fit 모드에 따라 동작 변경

#### Fit 모드 선택

| 모드 | 설명 | 사용 예시 |
|------|------|-----------|
| **cover** | 비율 유지하며 전체 영역 채움 (일부 잘림) | 썸네일, 배경 이미지 |
| **contain** | 비율 유지하며 전체 이미지가 영역에 들어감 (여백 가능) | 제품 이미지, 로고 |
| **fill** | 비율 무시하고 정확히 맞춤 (이미지 왜곡) | 정확한 크기 필요 시 |
| **inside** | 비율 유지하며 축소만 (확대 안함) | 최대 크기 제한 |
| **outside** | 비율 유지하며 확대만 (축소 안함) | 최소 크기 보장 |

#### 품질 설정
- **슬라이더**: 10-100% 범위에서 조정
- **권장 값**:
  - JPEG: 80-85% (사진), 90-95% (그래픽)
  - PNG: 100% (무손실)
  - WebP: 75-85% (균형), 90%+ (고품질)

#### 포맷 선택
- **JPEG**: 작은 파일 크기, 사진에 적합 (투명도 미지원)
- **PNG**: 투명도 지원, 그래픽에 적합 (큰 파일 크기)
- **WebP**: 우수한 압축률, 투명도 지원 (브라우저 지원 확인 필요)

---

### 3. 고급 옵션

#### 확대 금지 (Without Enlargement)
- 체크: 원본보다 큰 크기로 확대 방지
- 이미지 품질 보존에 유용

#### 축소 금지 (Without Reduction)
- 체크: 원본보다 작은 크기로 축소 방지
- 고해상도 유지에 유용

#### 배경색 (Background Color)
- 투명 영역을 채울 색상 지정
- 색상 피커로 선택
- PNG → JPEG 변환 시 투명도 처리에 유용

---

## 프리셋 함수 활용

### 썸네일 생성

**페이지**: `/presets`

**사용법**:
1. 이미지 업로드
2. 썸네일 크기 선택 (50px, 100px, 150px, 200px)
3. "썸네일 생성" 버튼 클릭

**특징**:
- WebP 포맷 우선 (브라우저 지원 시)
- cover fit 모드 (정사각형)
- 품질 80% (웹 최적화)
- 빠른 로딩 보장

**코드 예제**:
```typescript
import { createThumbnail } from '@cp949/web-image-util/presets';

const thumbnail = await createThumbnail(imageSource, {
  size: 150,
  format: 'webp',
  quality: 0.8
});
```

---

### 아바타 생성

**페이지**: `/presets`

**사용법**:
1. 이미지 업로드
2. 아바타 크기 선택 (50px, 100px, 150px, 200px)
3. "아바타 생성" 버튼 클릭

**특징**:
- PNG 포맷 (투명도 지원)
- cover fit 모드 (정사각형)
- 품질 90% (고품질)
- 프로필 이미지에 최적화

**코드 예제**:
```typescript
import { createAvatar } from '@cp949/web-image-util/presets';

const avatar = await createAvatar(imageSource, {
  size: 200,
  format: 'png',
  quality: 0.9
});
```

**향후 예정 기능**:
- 원형 마스킹 (shape: 'circle')
- 테두리 추가 (border: true)

---

### 소셜 미디어 이미지

**페이지**: `/presets`

**사용법**:
1. 이미지 업로드
2. 플랫폼 선택 (Instagram, Twitter, Facebook, LinkedIn, YouTube)
3. "소셜 이미지 생성" 버튼 클릭

**플랫폼별 크기**:
- **Instagram**: 1080x1080px (정사각형)
- **Twitter**: 1200x675px (16:9)
- **Facebook**: 1200x630px (1.91:1)
- **LinkedIn**: 1200x627px (1.91:1)
- **YouTube**: 1280x720px (16:9)

**특징**:
- JPEG 포맷 (호환성)
- contain fit 모드 (전체 이미지 표시)
- 품질 85% (균형)
- 플랫폼별 최적 크기 자동 적용

**코드 예제**:
```typescript
import { createSocialImage } from '@cp949/web-image-util/presets';

const socialImage = await createSocialImage(imageSource, 'instagram', {
  quality: 0.85
});
```

**향후 예정 기능**:
- 패딩 적용 (padding: 20)
- 배경색 지정 (background: '#ffffff')

---

## 고급 기능

### 워터마크 추가

**페이지**: `/advanced`

**사용법**:
1. 베이스 이미지 업로드
2. 워터마크 텍스트 입력 또는 이미지 업로드
3. 위치 선택 (center, top-left, top-right, bottom-left, bottom-right)
4. 불투명도 조정 (0-100%)
5. "워터마크 적용" 버튼 클릭

**특징**:
- 텍스트/이미지 워터마크 지원
- 9가지 위치 선택 가능
- 불투명도 조정
- 저작권 보호에 유용

---

### 필터 적용

**페이지**: `/filters`

**사용 가능한 필터**:
- **Grayscale**: 흑백 변환
- **Sepia**: 세피아 톤
- **Brightness**: 밝기 조정
- **Contrast**: 대비 조정
- **Blur**: 가우시안 블러

**사용법**:
1. 이미지 업로드
2. 필터 선택
3. 강도 슬라이더 조정
4. 실시간 미리보기 확인
5. "필터 적용" 버튼 클릭

---

### 배치 처리

**페이지**: `/batch`

**사용법**:
1. 여러 이미지 업로드 (드래그앤드롭 또는 파일 선택)
2. 공통 처리 옵션 설정
3. "배치 처리 시작" 버튼 클릭
4. 진행률 확인
5. 결과를 ZIP 파일로 다운로드

**특징**:
- 동시 처리 (병렬 처리)
- 진행률 실시간 표시
- ZIP 다운로드
- 대량 이미지 처리에 최적

---

## v2.0 신기능

### SVG 품질 비교

**페이지**: `/svg-quality-comparison`

**기능**:
- SVG를 래스터 이미지로 변환 시 품질 레벨 비교
- 4가지 품질 레벨: 1x, 2x, 3x, 4x
- 처리 시간 및 파일 크기 분석
- 상세 비교 테이블

**사용법**:
1. SVG 파일 업로드 또는 샘플 선택
2. 목표 크기 설정
3. "품질 비교 시작" 버튼 클릭
4. 4가지 품질 레벨 결과 비교

**권장 사항**:
- **간단한 SVG**: 1x-2x (충분한 품질, 빠른 처리)
- **복잡한 SVG**: 3x-4x (최고 품질, 느린 처리)
- **자동 선택**: `quality: 'auto'` (복잡도 기반 자동 선택)

---

### 스마트 포맷 선택

**페이지**: `/smart-format`

**기능**:
- JPEG, PNG, WebP 포맷 비교
- 브라우저 지원 자동 감지
- 파일 크기 및 압축률 계산
- 최적 포맷 자동 추천

**사용법**:
1. 이미지 업로드
2. "포맷 비교 시작" 버튼 클릭
3. 3가지 포맷 결과 비교
4. 추천 포맷 확인

**추천 로직**:
- WebP 지원 + 압축률 > 20% → **WebP**
- 투명도 필요 → **PNG**
- 기본값 → **JPEG**

---

### 성능 벤치마크

**페이지**: `/performance-benchmark`

**기능**:
- 소형/중형/대형 이미지 처리 시간 측정
- 메모리 사용량 모니터링
- 처리량(throughput) 계산
- 벤치마크 결과 테이블

**사용법**:
1. "벤치마크 시작" 버튼 클릭
2. 자동으로 3가지 크기 이미지 처리
3. 결과 테이블 및 요약 통계 확인

**측정 항목**:
- **처리 시간**: 각 크기별 평균 처리 시간
- **메모리 사용량**: 처리 중 메모리 변화
- **처리량**: 초당 처리 가능한 이미지 수
- **성능 점수**: 종합 성능 평가

---

## 샘플 이미지 선택기

### 사용법

1. **샘플 이미지 사용 버튼 클릭**
   - 이미지 업로더 하단의 "샘플 이미지 사용" 버튼 클릭

2. **포맷 필터링**
   - ALL: 모든 샘플 이미지 (12개)
   - JPG: JPEG 이미지만 (4개)
   - PNG: PNG 이미지만 (4개)
   - SVG: SVG 이미지만 (4개)

3. **이미지 선택**
   - 그리드에서 원하는 이미지 클릭
   - 자동으로 업로드 및 처리 준비

### 샘플 이미지 목록

| 번호 | JPEG | PNG | SVG | 설명 |
|------|------|-----|-----|------|
| 1 | sample1.jpg | sample1.png | sample1.svg | 풍경 이미지 |
| 2 | sample2.jpg | sample2.png | sample2.svg | 인물 사진 |
| 3 | sample3.jpg | sample3.png | sample3.svg | 제품 이미지 |
| 4 | sample4.jpg | sample4.png | sample4.svg | 그래픽 아트 |

### 추천 사용 방법

**기본 처리 테스트**: `sample1.jpg` (풍경 이미지)
- 다양한 색상과 디테일
- 리사이징 및 압축 효과 확인에 적합

**프리셋 테스트**: `sample2.jpg` (인물 사진)
- 얼굴 중심 구도
- 아바타/썸네일 생성에 적합

**고급 기능 테스트**: `sample3.png` (제품 이미지)
- 투명 배경
- 워터마크/필터 적용에 적합

**SVG 품질 테스트**: `sample4.svg` (그래픽 아트)
- 복잡한 벡터 그래픽
- SVG 품질 비교에 적합

---

## 결과 확인 및 다운로드

### 메타데이터 표시

처리 완료 후 다음 정보가 표시됩니다:

- **원본 크기**: 원본 이미지 해상도
- **결과 크기**: 처리된 이미지 해상도
- **파일 크기**: 원본 → 결과 (압축률)
- **처리 시간**: 밀리초 단위

### 다운로드

- **다운로드 버튼**: 처리된 이미지를 로컬에 저장
- **자동 파일명**: 포맷에 맞는 확장자 자동 설정
- **배치 처리**: ZIP 파일로 일괄 다운로드

---

## 추가 팁

### 성능 최적화
- 불필요한 고품질 설정 지양 (품질 80-85% 권장)
- WebP 포맷 우선 사용 (브라우저 지원 시)
- 적절한 크기 설정 (과도한 리사이징 방지)

### 품질 유지
- 확대 금지 옵션 활성화
- PNG 포맷 사용 (투명도/그래픽)
- 적절한 Fit 모드 선택

### 브라우저 호환성
- WebP 미지원 브라우저: JPEG/PNG 폴백
- 최신 브라우저 권장 (Chrome, Firefox, Safari, Edge)

---

## 문제 해결

**이미지가 업로드되지 않음**
→ [troubleshooting.md](./troubleshooting.md#이미지-업로드-실패) 참조

**처리 시간이 너무 오래 걸림**
→ [performance-tips.md](./performance-tips.md#처리-속도-개선) 참조

**품질이 기대와 다름**
→ [best-practices.md](./best-practices.md#품질-설정) 참조

---

## 관련 문서

- [베스트 프랙티스](./best-practices.md)
- [성능 최적화 팁](./performance-tips.md)
- [마이그레이션 가이드](./migration-guide.md)
- [트러블슈팅](./troubleshooting.md)